; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32-wroom-32d]
platform = espressif32
board = esp32dev
framework = arduino

; ESP32 WROOM-32D specific settings
board_build.mcu = esp32
board_build.f_cpu = 240000000L
board_build.f_flash = 40000000L
board_build.flash_mode = dio
board_build.partitions = default.csv

monitor_speed = 115200
upload_speed = 9600
monitor_filters = esp32_exception_decoder

; Upload settings for manual boot mode
upload_resetmethod = nodemcu
upload_flags =
    --before=no_reset
    --after=hard_reset
    --chip=esp32

; Build flags optimized for ESP32 WROOM-32D
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DARDUINO_ESP32_DEV
    -DCONFIG_FREERTOS_UNICORE=0
    -DCONFIG_ARDUINO_LOOP_STACK_SIZE=8192

lib_deps =
    me-no-dev/AsyncTCP@1.1.1
    esphome/ESPAsyncWebServer-esphome@3.3.0
    ricki-z/SDS011 sensor Library@0.0.8
    lewapek/Nova Fitness Sds dust sensors library@1.5.1
    adafruit/DHT sensor library@1.4.6
    knolleary/PubSubClient@2.8
    marcoschwartz/LiquidCrystal_I2C@1.1.4
    bblanchon/ArduinoJson@6.21
    closedcube/ClosedCube HDC1080@1.3.2
    adafruit/Adafruit BusIO@1.14.1